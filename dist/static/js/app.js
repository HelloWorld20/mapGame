webpackJsonp([1],{"+iOW":function(t,e,i){t.exports=i.p+"static/img/psb7.jpg"},"/VVs":function(t,e){throw new Error("Module parse failed: Unexpected character '@' (1:0)\nYou may need an appropriate loader to handle this file type.\n| @charset \"UTF-8\";\n| h1, h2, h3, h4, h5, h6 {\n|   margin: 0;")},"/vDR":function(t,e,i){t.exports=i.p+"static/img/psb1.jpg"},"19/2":function(t,e,i){"use strict";i("d2gY")},"6zCC":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[t._m(0),t._v(" "),i("i"),t._v(" "),i("vue-preload",{on:{percentage:t.percentage,loaded:t.loaded}})],1)},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"preload"},[i("div",{staticClass:"preload-bottom"}),t._v(" "),i("div",{staticClass:"preload-top"})])}],o={render:n,staticRenderFns:s};e.a=o},"8taH":function(t,e,i){"use strict";var n=i("MnwG");e.a={components:{VuePreload:n.a},methods:{percentage:function(t){},loaded:function(){}}}},AM4w:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("div",{ref:"map",staticClass:"map",style:{"background-image":"url("+i("mi+u")+")"}},[n("div",{staticClass:"map--active"},t._l(t.game,function(e,s){return n("transition",{attrs:{"enter-active-class":"bounceIn","leave-active-class":"bounceOut",Key:s}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.gameStep===s,expression:"gameStep === key"}],ref:"item",refInFor:!0,staticClass:"map--active-item map--active-map animated",style:{"background-image":"url("+i("czpq")("./"+e.img)+")",left:e.position[0]+"px",top:e.position[1]+"px"},attrs:{Key:s}})])}),1),t._v(" "),n("div",{staticClass:"map--layer"},[n("transition",{attrs:{"enter-active-class":"fadeIn","leave-active-class":"fadeOut"}},[t.hasline?n("div",{staticClass:"map--layer-line"}):t._e()]),t._v(" "),n("transition",{attrs:{"enter-active-class":"fadeIn","leave-active-class":"fadeOut"}},[t.haspoint?n("div",{staticClass:"map--layer-point"}):t._e()])],1)]),t._v(" "),n("div",{staticClass:"control"},[n("div",{staticClass:"control--handle"},[n("div",{staticClass:"control--handle-pre",on:{touchstart:t.preStep}},[t._v("上一步")]),t._v(" "),n("div",{staticClass:"control--handle-next",on:{touchstart:t.nextStep}},[t._v("下一步")])]),t._v(" "),n("div",{staticClass:"control--tap"},[n("div",{staticClass:"control--tab-1",class:{active:t.hasline},on:{click:function(e){t.switchLayer("line")}}},[t._v("1")]),t._v(" "),n("div",{staticClass:"control--tab-2",class:{active:t.haspoint},on:{click:function(e){t.switchLayer("point")}}},[t._v("2")])])])])},s=[],o={render:n,staticRenderFns:s};e.a=o},BxDb:function(t,e,i){t.exports=i.p+"static/img/psb3.jpg"},EuEE:function(t,e,i){"use strict";function n(t){l||(requestAnimationFrame(n),TWEEN.update(t))}function s(){l=!1,n()}function o(){l=!0}i.d(e,"a",function(){return p});var a=i("//Fk"),r=i.n(a),c=i("7+uW"),h={x:0,y:0},u=window.innerWidth>>1,f=window.innerHeight>>1,l=!0,p=(new c.a,function(t){var e=t.x,i=t.y,n=t.scale,a=void 0===n?1:n,c=t.animate,l=void 0===c||c,p=t.target,d=t.map;t.lastX,t.lastY;e-=u/a,i-=f/a;var m=void 0,g=void 0,v={x:h.x,y:h.y};return new r.a(function(t){setTimeout(function(){if(m=p.offsetWidth>>1,g=p.offsetHeight>>1,e+=m,i+=g,l){s();new TWEEN.Tween(v).to({x:e,y:i},1e3).easing(TWEEN.Easing.Quartic.Out).onUpdate(function(){d.style.transform="scale3d("+a+", "+a+", 1) translate3d("+-v.x+"px, "+-v.y+"px, 0px)"}).onComplete(function(){o(),t({x:e,y:i}),h={x:e,y:i}}).start()}else o(),d.style.transform="scale3d("+scaleX+", "+scaleX+", 1) translate3d("+-e+"px, "+-i+"px, 0px)",t({x:e,y:i}),h={x:e,y:i}},20)})})},Fs8J:function(t,e,i){"use strict";var n=i("lHA8"),s=i.n(n),o=i("d2gY"),a=i("EuEE"),r=i("byWI"),c=o.b.length,h=!1,u=null;e.a={data:function(){return{game:o.b,gameStep:0,activeLayer:new s.a(["line","point","text","pic"]),hasline:!0,haspic:!0,hastext:!0,haspoint:!0}},mounted:function(){var t=this.$refs.map;u=new r.a(t,{maxZoom:8,minZoom:1,tapZoomFactor:4})},methods:{preStep:function(){if(!h){this.gameStep--,-1===this.gameStep&&(this.gameStep=c-1);var t=o.b[this.gameStep%c];h=!0;var e=u.getInitialZoomFactor()*u.zoomFactor;u.disable(),Object(a.a)({target:this.$refs.item[this.gameStep],map:this.$refs.map,x:t.position[0],y:t.position[1],scale:e}).then(function(t){u.offset.x=t.x*e,u.offset.y=t.y*e,h=!1,e=null,u.enable()})}},nextStep:function(){if(!h){this.gameStep++,this.gameStep>c-1&&(this.gameStep=0);var t=o.b[this.gameStep%c];h=!0;var e=u.getInitialZoomFactor()*u.zoomFactor;u.disable(),Object(a.a)({target:this.$refs.item[this.gameStep],map:this.$refs.map,x:t.position[0],y:t.position[1],scale:e}).then(function(t){u.offset.x=t.x*e,u.offset.y=t.y*e,h=!1,u.enable()})}},switchLayer:function(t){this.activeLayer.has(t)?(this.activeLayer.delete(t),this["has"+t]=!1):(this.activeLayer.add(t),this["has"+t]=!0)}}}},M93x:function(t,e,i){"use strict";function n(t){i("iYSU")}var s=i("xJD8"),o=i("gOzf"),a=i("VU/8"),r=n,c=a(s.a,o.a,!1,r,null,null);e.a=c.exports},MARB:function(t,e,i){"use strict";var n=i("d2gY");e.a={data:function(){return{loaded:0,totalLen:""}},mounted:function(){this.preloadImg(),this.preloadAudio()},methods:{preloadImg:function(){var t=this;window.imagesCache=[],this.totalLen=n.a.imgs.length;var e=0;n.a.imgs.forEach(function(n,s){var o=new Image;o.onerror=o.onload=function(){t.loaded++,e=t.loaded/t.totalLen,t.$emit("percentage",e),t.loaded>=t.totalLen&&t.$emit("loaded",e)},o.src=i("PvXa")("./"+n),window.imagesCache[s]=o})},preloadAudio:function(){window.audioCache=[],n.a.audios.forEach(function(t,e){var n=new Audio;n.addEventListener("canplaythrough",function(){n.play(),n.pause()},!1),document.addEventListener("WeixinJSBridgeReady",function(){n.play(),n.pause()},!1),n.src=i("PvXa")("./"+t),window.audioCache[e]=n})}}}},MbKE:function(t,e){},MnwG:function(t,e,i){"use strict";function n(t){i("oMVh")}var s=i("MARB"),o=i("yEJ7"),a=i("VU/8"),r=n,c=a(s.a,o.a,!1,r,"data-v-7d1074f6",null);e.a=c.exports},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("7+uW"),s=i("EK5g"),o=(i.n(s),i("M93x")),a=i("YaEn");i("19/2"),i("EuEE");i("kw8N"),n.a.config.productionTip=!1,new n.a({el:"#app",router:a.a,template:"<App/>",components:{App:o.a}})},NxGh:function(t,e,i){"use strict";function n(t){i("sfHn")}var s=i("8taH"),o=i("6zCC"),a=i("VU/8"),r=n,c=a(s.a,o.a,!1,r,null,null);e.a=c.exports},PvXa:function(t,e,i){function n(t){return i(s(t))}function s(t){var e=o[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var o={"./animate.css":"kw8N","./img/map.jpg":"mi+u","./img/mapss.jpeg":"zgnC","./img/psb0.jpg":"vj9o","./img/psb1.jpg":"/vDR","./img/psb2.jpg":"SYrd","./img/psb3.jpg":"BxDb","./img/psb4.jpg":"lPet","./img/psb5.jpg":"uAC8","./img/psb7.jpg":"+iOW","./img/psb8.jpg":"qFF2","./img/share.png":"yMUZ","./scss/extend.scss":"bus+","./scss/extend.wxss":"/VVs"};n.keys=function(){return Object.keys(o)},n.resolve=s,t.exports=n,n.id="PvXa"},SYrd:function(t,e,i){t.exports=i.p+"static/img/psb2.jpg"},UAgs:function(t,e,i){"use strict";!function(){var t=window.innerWidth<window.innerHeight?window.innerWidth:window.innerHeight,e=t/3.75;document.documentElement.style.fontSize=e+"px"}()},YaEn:function(t,e,i){"use strict";var n=i("7+uW"),s=i("/ocq"),o=i("NxGh"),a=i("lO7g");n.a.use(s.a),e.a=new s.a({routes:[{path:"/",component:o.a},{path:"/Home",component:a.a}]})},"bus+":function(t,e){},byWI:function(t,e,i){"use strict";var n=i("woOf"),s=i.n(n),o=i("c/Tr"),a=i.n(o),r=function(t){var e=document.implementation.createHTMLDocument("");return e.body.innerHTML=t,a()(e.body.children)[0]},c=function(t,e){var i=document.createEvent("HTMLEvents");i.initEvent(e,!0,!1),t.dispatchEvent(i)},h=function(){var t=function(t,e){this.el=t,this.zoomFactor=1,this.lastScale=1,this.offset={x:0,y:0},this.initialOffset={x:0,y:0},this.options=s()({},this.defaults,e),this.setupMarkup(),this.bindEvents(),this.update(),this.isImageLoaded(this.el)&&(this.updateAspectRatio(),this.setupOffsets()),this.enable()},e=function(t,e){return t+e},i=function(t,e){return t>e-.01&&t<e+.01};t.prototype={defaults:{tapZoomFactor:2,zoomOutFactor:1.3,animationDuration:300,maxZoom:4,minZoom:.5,draggableUnzoomed:!0,lockDragAxis:!1,setOffsetsOnce:!1,use2d:!0,zoomStartEventName:"pz_zoomstart",zoomUpdateEventName:"pz_zoomupdate",zoomEndEventName:"pz_zoomend",dragStartEventName:"pz_dragstart",dragUpdateEventName:"pz_dragupdate",dragEndEventName:"pz_dragend",doubleTapEventName:"pz_doubletap",verticalPadding:0,horizontalPadding:0},handleDragStart:function(t){c(this.el,this.options.dragStartEventName),this.stopAnimation(),this.lastDragPosition=!1,this.hasInteraction=!0,this.handleDrag(t)},handleDrag:function(t){var e=this.getTouches(t)[0];this.drag(e,this.lastDragPosition),this.offset=this.sanitizeOffset(this.offset),this.lastDragPosition=e},handleDragEnd:function(){c(this.el,this.options.dragEndEventName),this.end()},handleZoomStart:function(t){c(this.el,this.options.zoomStartEventName),this.stopAnimation(),this.lastScale=1,this.nthZoom=0,this.lastZoomCenter=!1,this.hasInteraction=!0},handleZoom:function(t,e){var i=this.getTouchCenter(this.getTouches(t)),n=e/this.lastScale;this.lastScale=e,this.nthZoom+=1,this.nthZoom>3&&(this.scale(n,i),this.drag(i,this.lastZoomCenter)),this.lastZoomCenter=i},handleZoomEnd:function(){c(this.el,this.options.zoomEndEventName),this.end()},handleDoubleTap:function(t){var e=this.getTouches(t)[0],i=this.zoomFactor>1?1:this.options.tapZoomFactor,n=this.zoomFactor,s=function(t){this.scaleTo(n+t*(i-n),e)}.bind(this);this.hasInteraction||(this.isDoubleTap=!0,n>i&&(e=this.getCurrentZoomCenter()),this.animate(this.options.animationDuration,s,this.swing),c(this.el,this.options.doubleTapEventName))},computeInitialOffset:function(){this.initialOffset={x:-Math.abs(this.el.offsetWidth*this.getInitialZoomFactor()-this.container.offsetWidth)/2,y:-Math.abs(this.el.offsetHeight*this.getInitialZoomFactor()-this.container.offsetHeight)/2}},resetOffset:function(){this.offset.x=this.initialOffset.x,this.offset.y=this.initialOffset.y},isImageLoaded:function(t){return"IMG"===t.nodeName?t.complete&&0!==t.naturalHeight:a()(t.querySelectorAll("img")).every(this.isImageLoaded)},setupOffsets:function(){this.options.setOffsetsOnce&&this._isOffsetsSet||(this._isOffsetsSet=!0,this.computeInitialOffset(),this.resetOffset())},sanitizeOffset:function(t){var e=this.el.offsetWidth*this.getInitialZoomFactor()*this.zoomFactor,i=this.el.offsetHeight*this.getInitialZoomFactor()*this.zoomFactor,n=e-this.getContainerX()+this.options.horizontalPadding,s=i-this.getContainerY()+this.options.verticalPadding,o=Math.max(n,0),a=Math.max(s,0),r=Math.min(n,0)-this.options.horizontalPadding,c=Math.min(s,0)-this.options.verticalPadding;return{x:Math.min(Math.max(t.x,r),o),y:Math.min(Math.max(t.y,c),a)}},scaleTo:function(t,e){this.scale(t/this.zoomFactor,e)},scale:function(t,e){t=this.scaleZoomFactor(t),this.addOffset({x:(t-1)*(e.x+this.offset.x),y:(t-1)*(e.y+this.offset.y)}),c(this.el,this.options.zoomUpdateEventName)},scaleZoomFactor:function(t){var e=this.zoomFactor;return this.zoomFactor*=t,this.zoomFactor=Math.min(this.options.maxZoom,Math.max(this.zoomFactor,this.options.minZoom)),this.zoomFactor/e},canDrag:function(){return this.options.draggableUnzoomed||!i(this.zoomFactor,1)},drag:function(t,e){e&&(this.options.lockDragAxis?Math.abs(t.x-e.x)>Math.abs(t.y-e.y)?this.addOffset({x:-(t.x-e.x),y:0}):this.addOffset({y:-(t.y-e.y),x:0}):this.addOffset({y:-(t.y-e.y),x:-(t.x-e.x)}),c(this.el,this.options.dragUpdateEventName))},getTouchCenter:function(t){return this.getVectorAvg(t)},getVectorAvg:function(t){return{x:t.map(function(t){return t.x}).reduce(e)/t.length,y:t.map(function(t){return t.y}).reduce(e)/t.length}},addOffset:function(t){this.offset={x:this.offset.x+t.x,y:this.offset.y+t.y}},sanitize:function(){this.zoomFactor<this.options.zoomOutFactor?this.zoomOutAnimation():this.isInsaneOffset(this.offset)&&this.sanitizeOffsetAnimation()},isInsaneOffset:function(t){var e=this.sanitizeOffset(t);return e.x!==t.x||e.y!==t.y},sanitizeOffsetAnimation:function(){var t=this.sanitizeOffset(this.offset),e={x:this.offset.x,y:this.offset.y},i=function(i){this.offset.x=e.x+i*(t.x-e.x),this.offset.y=e.y+i*(t.y-e.y),this.update()}.bind(this);this.animate(this.options.animationDuration,i,this.swing)},zoomOutAnimation:function(){if(1!==this.zoomFactor){var t=this.zoomFactor,e=this.getCurrentZoomCenter(),i=function(i){this.scaleTo(t+i*(1-t),e)}.bind(this);this.animate(this.options.animationDuration,i,this.swing)}},updateAspectRatio:function(){this.unsetContainerY(),this.setContainerY(this.container.parentElement.offsetHeight)},getInitialZoomFactor:function(){var t=this.container.offsetWidth/this.el.offsetWidth,e=this.container.offsetHeight/this.el.offsetHeight;return Math.min(t,e)},getAspectRatio:function(){return this.el.offsetWidth/this.el.offsetHeight},getCurrentZoomCenter:function(){var t=this.offset.x-this.initialOffset.x,e=-1*this.offset.x-t/(1/this.zoomFactor-1),i=this.offset.y-this.initialOffset.y;return{x:e,y:-1*this.offset.y-i/(1/this.zoomFactor-1)}},getTouches:function(t){var e=this.container.getBoundingClientRect(),i=document.documentElement.scrollTop||document.body.scrollTop,n=document.documentElement.scrollLeft||document.body.scrollLeft,s=e.top+i,o=e.left+n;return Array.prototype.slice.call(t.touches).map(function(t){return{x:t.pageX-o,y:t.pageY-s}})},animate:function(t,e,i,n){var s=(new Date).getTime(),o=function(){if(this.inAnimation){var a=(new Date).getTime()-s,r=a/t;a>=t?(e(1),n&&n(),this.update(),this.stopAnimation(),this.update()):(i&&(r=i(r)),e(r),this.update(),requestAnimationFrame(o))}}.bind(this);this.inAnimation=!0,requestAnimationFrame(o)},stopAnimation:function(){this.inAnimation=!1},swing:function(t){return-Math.cos(t*Math.PI)/2+.5},getContainerX:function(){return this.container.offsetWidth},getContainerY:function(){return this.container.offsetHeight},setContainerY:function(t){return this.container.style.height=t+"px"},unsetContainerY:function(){this.container.style.height=null},setupMarkup:function(){this.container=r('<div class="pinch-zoom-container"></div>'),this.el.parentNode.insertBefore(this.container,this.el),this.container.appendChild(this.el),this.container.style.overflow="hidden",this.container.style.position="relative",this.el.style.webkitTransformOrigin="0% 0%",this.el.style.mozTransformOrigin="0% 0%",this.el.style.msTransformOrigin="0% 0%",this.el.style.oTransformOrigin="0% 0%",this.el.style.transformOrigin="0% 0%",this.el.style.position="absolute"},end:function(){this.hasInteraction=!1,this.sanitize(),this.update()},bindEvents:function(){var t=this;n(this.container,this),window.addEventListener("resize",this.update.bind(this)),a()(this.el.querySelectorAll("img")).forEach(function(e){e.addEventListener("load",t.update.bind(t))}),"IMG"===this.el.nodeName&&this.el.addEventListener("load",this.update.bind(this))},update:function(t){this.updatePlaned||(this.updatePlaned=!0,window.setTimeout(function(){this.updatePlaned=!1,t&&"resize"===t.type&&(this.updateAspectRatio(),this.setupOffsets()),t&&"load"===t.type&&(this.updateAspectRatio(),this.setupOffsets());var e=this.getInitialZoomFactor()*this.zoomFactor,i=-this.offset.x/e,n=-this.offset.y/e,s="scale3d("+e+", "+e+",1) translate3d("+i+"px,"+n+"px,0px)",o="scale("+e+", "+e+") translate("+i+"px,"+n+"px)",a=function(){this.clone&&(this.clone.parentNode.removeChild(this.clone),delete this.clone)}.bind(this);!this.options.use2d||this.hasInteraction||this.inAnimation?(this.is3d=!0,a(),this.el.style.webkitTransform=s,this.el.style.mozTransform=o,this.el.style.msTransform=o,this.el.style.oTransform=o,this.el.style.transform=s):(this.is3d&&(this.clone=this.el.cloneNode(!0),this.clone.style.pointerEvents="none",this.container.appendChild(this.clone),window.setTimeout(a,200)),this.el.style.webkitTransform=o,this.el.style.mozTransform=o,this.el.style.msTransform=o,this.el.style.oTransform=o,this.el.style.transform=o,this.is3d=!1)}.bind(this),0))},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1}};var n=function(t,e){var i=null,n=0,s=null,o=function(t,n){if(i!==t){if(i&&!t)switch(i){case"zoom":e.handleZoomEnd(n);break;case"drag":e.handleDragEnd(n)}switch(t){case"zoom":e.handleZoomStart(n);break;case"drag":e.handleDragStart(n)}}i=t},r=function(t){2===n?o("zoom"):1===n&&e.canDrag()?o("drag",t):o(null,t)},c=function(t){return a()(t).map(function(t){return{x:t.pageX,y:t.pageY}})},h=function(t,e){var i,n;return i=t.x-e.x,n=t.y-e.y,Math.sqrt(i*i+n*n)},u=function(t,e){var i=h(t[0],t[1]);return h(e[0],e[1])/i},f=function(t){t.stopPropagation(),t.preventDefault()},l=!0;t.addEventListener("touchstart",function(t){e.enabled&&(l=!0,n=t.touches.length)}),t.addEventListener("touchmove",function(t){if(e.enabled&&!e.isDoubleTap){if(l)r(t),i&&f(t),s=c(t.touches);else{switch(i){case"zoom":e.handleZoom(t,u(s,c(t.touches)));break;case"drag":e.handleDrag(t)}i&&(f(t),e.update())}l=!1}}),t.addEventListener("touchend",function(t){e.enabled&&(n=t.touches.length,r(t))})};return t}();e.a=h},czpq:function(t,e,i){function n(t){return i(s(t))}function s(t){var e=o[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var o={"./map.jpg":"mi+u","./mapss.jpeg":"zgnC","./psb0.jpg":"vj9o","./psb1.jpg":"/vDR","./psb2.jpg":"SYrd","./psb3.jpg":"BxDb","./psb4.jpg":"lPet","./psb5.jpg":"uAC8","./psb7.jpg":"+iOW","./psb8.jpg":"qFF2","./share.png":"yMUZ"};n.keys=function(){return Object.keys(o)},n.resolve=s,t.exports=n,n.id="czpq"},d2gY:function(t,e,i){"use strict";i.d(e,"b",function(){return n});var n=[{position:[1e3,2e3],img:"psb0.jpg"},{position:[2470,1700],img:"psb1.jpg"},{position:[2879,1212],img:"psb2.jpg"},{position:[1423,3980],img:"psb3.jpg"},{position:[3567,1252],img:"psb4.jpg"}];e.a={share:{title:"分享标题",desc:"分享描述",link:window.location.href,imgUrl:""},imgs:["img/share.png"],audios:[]}},gOzf:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},s=[],o={render:n,staticRenderFns:s};e.a=o},iYSU:function(t,e){},kw8N:function(t,e){},lO7g:function(t,e,i){"use strict";function n(t){i("MbKE")}var s=i("Fs8J"),o=i("AM4w"),a=i("VU/8"),r=n,c=a(s.a,o.a,!1,r,"data-v-3a3838d8",null);e.a=c.exports},lPet:function(t,e,i){t.exports=i.p+"static/img/psb4.jpg"},"mi+u":function(t,e,i){t.exports=i.p+"static/img/map.jpg"},oMVh:function(t,e){},qFF2:function(t,e,i){t.exports=i.p+"static/img/psb8.jpg"},sfHn:function(t,e){},uAC8:function(t,e,i){t.exports=i.p+"static/img/psb5.jpg"},vj9o:function(t,e,i){t.exports=i.p+"static/img/psb0.jpg"},xJD8:function(t,e,i){"use strict";i("UAgs");e.a={}},yEJ7:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div")},s=[],o={render:n,staticRenderFns:s};e.a=o},yMUZ:function(t,e,i){t.exports=i.p+"static/img/share.png"},zgnC:function(t,e,i){t.exports=i.p+"static/img/mapss.jpeg"}},["NHnr"]);
//# sourceMappingURL=app.js.map